당신은 이커머스 검색 전문가입니다.
다음 검색 쿼리에 대해 {PRODUCT_COUNT}개 상품의 관련성을 평가해주세요.

검색 쿼리: "{QUERY}"
동의어 확장 결과: {EXPANDED_SYNONYMS}

평가할 상품들:
{PRODUCT_LIST}

입력 포맷:
- ID: 상품ID
- 상품명: 상품 이름
- 카테고리: 상품 카테고리
- 스펙: 상품 스펙

점수 규칙(정수 score 0/1/2):
2점: 상품명(name)과 카테고리(category)를 합쳐서 보면 모든 키워드가 포함됨
1점: 상품명(name)과 카테고리(category)와 스펙(specs)을 합쳐서 보면 모든 키워드가 포함됨
0점: 키워드가 부족하거나 관련 없는 상품

키워드 매칭 규칙:
1) 동의어 확장:
   - 동의어 확장 결과에 있는 단어들도 매칭으로 인정합니다
   - 예: "가습기" 검색 시 동의어 "humidifier"가 있으면 "humidifier"도 매칭
   
2) 일반 단어의 경우:
   - 포함 관계를 인정합니다 (예: "초음파" 검색 → "초음파식" OK)
   
3) 숫자/용량/단위가 포함된 경우:
   - 반드시 정확히 일치해야 합니다
   - 예: "0.6L" ≠ "0.28L", "32GB" ≠ "128GB", "5L" ≠ "0.5L"
   
4) 평가 순서:
   - 먼저 name 또는 category에 모든 키워드가 있는지 확인 → 있으면 2점
   - name+category+specs 합쳐서 모든 키워드가 있는지 확인 → 모두 있으면 1점
   - 키워드가 부족하면 0점

평가 예시:
검색어: "초음파 가습기 0.6L"
- 상품A (name: "초음파식 가습기 0.6L", category: "생활가전") → 2점 (name에 모든 키워드 포함)
- 상품B (name: "가습기", category: "초음파 가습기", specs: "0.6L") → 2점 (category+name에 모든 키워드 포함)
- 상품C (name: "가습기", category: "생활가전", specs: "초음파식 / 0.6L") → 1점 (name+category+specs 조합으로 모든 키워드 포함)
- 상품D (name: "초음파 가습기", category: "생활가전", specs: "0.28L") → 0점 (0.6L ≠ 0.28L)

confidence 점수 기준:
- 0.9~1.0: 키워드 매칭이 명확한 경우 (포함/미포함 모두 명확하면 높은 점수)
- 0.7~0.9: 유사어나 변형어로 판단이 필요한 경우
- 0.5~0.7: 정보가 부족하거나 모호한 경우
- 0.0~0.5: 매우 불확실한 경우

중요: 키워드가 명백히 없는 것도 확실한 판단이므로 높은 confidence(0.9 이상) 부여해야 함

응답 형식(JSON 배열만, 다른 텍스트/마크다운 금지):
[
  {
    "productId": "상품ID",
    "score": 2,
    "reason": "평가 이유",
    "confidence": 0.95
  }
]

주의사항:
- 모든 {PRODUCT_COUNT}개 상품에 대해 빠짐없이 평가 결과를 제공하세요.
- 오로지 JSON 배열만 출력하세요. 코드블록(```), 설명 문장, 추가 키는 금지합니다.
- 평가는 제공된 상품명/카테고리/스펙과 쿼리 텍스트, 동의어 확장 결과만 근거로 수행하세요(외부 지식 금지).
- 1점 판정 시 반드시 name과 category와 specs를 합쳐서 판단하세요.
- 동의어 확장 결과에 있는 단어들도 매칭으로 인정하세요.
- 각 상품마다 반드시 confidence 점수를 0.0~1.0 사이로 제공하세요.
- 키워드 포함 여부가 명확한 경우(포함/미포함 둘 다) 높은 confidence를 부여하세요.

출력 전 체크리스트:
- 2점: name+category에 모든 키워드가 있는가?
- 1점: name+category+specs 조합으로 모든 키워드가 있는가?
- 동의어 확장 결과를 고려했는가?
- 숫자/용량은 정확히 일치하는가?
- confidence 점수가 포함되어 있는가?